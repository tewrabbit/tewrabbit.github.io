<%
var hashCode = function (str) {
    if (!str && str.length === 0) {
        return 0;
    }

    var hash = 0;
    for (var i = 0, len = str.length; i < len; i++) {
        hash = ((hash << 5) - hash) + str.charCodeAt(i);
        hash |= 0;
    }
    return hash;
};

var featureimg = url_for('/medias/bg.jpg');
if (page.img) {
    featureimg = url_for(page.img);
} else {
    var len = theme.featureImages.length;
    var num = Math.abs(hashCode(page.title) % len);

    featureimg = theme.jsDelivr.url
            ? theme.jsDelivr.url + url_for(theme.featureImages[num])
            : url_for(theme.featureImages[num]);
}

var defaultVideoBase = (theme.homeVideo && theme.homeVideo.dir) ? theme.homeVideo.dir : '/medias/vedio/';
var defaultVideoExt = (theme.homeVideo && theme.homeVideo.ext) ? theme.homeVideo.ext : 'mp4';
var defaultVideoCount = (theme.homeVideo && theme.homeVideo.count) ? theme.homeVideo.count : 4;
var coverVideo = page.coverVideo ? url_for(page.coverVideo) : (page.video ? url_for(page.video) : null);
%>

<div class="bg-cover pd-header post-cover has-video">
    <video class="bg-cover-video lazy-video" autoplay muted loop playsinline preload="none"
           <% if (coverVideo) { %>data-src="<%- coverVideo.startsWith('http') ? coverVideo : (theme.jsDelivr.url + coverVideo) %>"<% } else { %>data-random="1"<% } %>></video>
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title"><%= page.title %></h1>
                </div>
            </div>
        </div>
    </div>
</div>
